import{w as re}from"../chunks/paths.b2d66cdf.js";import{_ as le}from"../chunks/preload-helper.a4192956.js";import{s as M,n as x,r as pe,i as ve,b as ge,h as be}from"../chunks/scheduler.4b0cb93c.js";import{S as $,i as B,g as b,s as A,h as k,j as P,C as I,c as S,f as p,k as d,a as E,y as g,B as J,m as D,n as R,o as de,d as j,p as K,b as ee,t as G,x as ke,e as z,r as W,u as X,v as Z,w as H,z as U,A as F}from"../chunks/index.71706c59.js";import{e as se,r as ye,N as we,J as Ce,M as xe,T as Ee}from"../chunks/reactor.e24886a2.js";function oe(r){let e,n,t;return{c(){e=b("input"),this.h()},l(l){e=k(l,"INPUT",{type:!0,class:!0}),this.h()},h(){d(e,"type","text"),d(e,"class","input input-primary")},m(l,s){E(l,e,s),r[5](e),n||(t=J(e,"keypress",r[6]),n=!0)},p:x,d(l){l&&p(e),r[5](null),n=!1,t()}}}function Te(r){let e,n,t,l="Tic-Tac-Toe",s,o,a="New Game",h,i,c="Join Game",v,T,y,u=r[3]&&oe(r);return{c(){e=b("div"),n=b("div"),t=b("h2"),t.textContent=l,s=A(),o=b("button"),o.textContent=a,h=A(),i=b("button"),i.textContent=c,v=A(),u&&u.c(),this.h()},l(w){e=k(w,"DIV",{class:!0});var _=P(e);n=k(_,"DIV",{class:!0});var O=P(n);t=k(O,"H2",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1tk4djx"&&(t.textContent=l),s=S(O),o=k(O,"BUTTON",{class:!0,"data-svelte-h":!0}),I(o)!=="svelte-1dy1ul0"&&(o.textContent=a),h=S(O),i=k(O,"BUTTON",{class:!0,"data-svelte-h":!0}),I(i)!=="svelte-1amrdqt"&&(i.textContent=c),v=S(O),u&&u.l(O),O.forEach(p),_.forEach(p),this.h()},h(){d(t,"class","card-header"),d(o,"class","btn btn-primary w-fit"),d(i,"class","btn btn-primary w-fit"),d(n,"class","card-body items-center break-all"),d(e,"class","card overflow-y-auto")},m(w,_){E(w,e,_),g(e,n),g(n,t),g(n,s),g(n,o),g(n,h),g(n,i),g(n,v),u&&u.m(n,null),T||(y=[J(o,"click",function(){ve(r[0])&&r[0].apply(this,arguments)}),J(i,"click",r[4])],T=!0)},p(w,[_]){r=w,r[3]?u?u.p(r,_):(u=oe(r),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:x,o:x,d(w){w&&p(e),u&&u.d(),T=!1,pe(y)}}}function Pe(r,e,n){let t,{onNewGame:l}=e,{onJoinGame:s}=e,o;const a=()=>{t?s(o.value):n(3,t=!0)};function h(c){ge[c?"unshift":"push"](()=>{o=c,n(2,o)})}const i=c=>{c.key==="Enter"&&s(o.value)};return r.$$set=c=>{"onNewGame"in c&&n(0,l=c.onNewGame),"onJoinGame"in c&&n(1,s=c.onJoinGame)},n(3,t=!1),[l,s,o,t,a,h,i]}class Le extends ${constructor(e){super(),B(this,e,Pe,Te,M,{onNewGame:0,onJoinGame:1})}}function ae(r,e,n){const t=r.slice();return t[4]=e[n],t[6]=n,t}function je(r){let e=r[4]+"",n;return{c(){n=D(e)},l(t){n=R(t,e)},m(t,l){E(t,n,l)},p(t,l){l&1&&e!==(e=t[4]+"")&&de(n,e)},i:x,o:x,d(t){t&&p(n)}}}function Oe(r){let e,n;return e=new Fe({}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p:x,i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function Ie(r){let e,n;return e=new ze({}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p:x,i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function ie(r){let e,n,t,l,s,o,a,h;const i=[Ie,Oe,je],c=[];function v(y,u){return y[4]==="X"?0:y[4]==="O"?1:2}n=v(r),t=c[n]=i[n](r);function T(){return r[3](r[6])}return{c(){e=b("button"),t.c(),l=A(),this.h()},l(y){e=k(y,"BUTTON",{class:!0});var u=P(e);t.l(u),l=S(u),u.forEach(p),this.h()},h(){d(e,"class","flex h-28 w-28 items-center justify-center "+(r[6]%3!==0?"border-l-2":"")+" "+(r[6]>2?"border-t-2":"")),e.disabled=s=r[4].length>0},m(y,u){E(y,e,u),c[n].m(e,null),g(e,l),o=!0,a||(h=J(e,"click",T),a=!0)},p(y,u){r=y;let w=n;n=v(r),n===w?c[n].p(r,u):(K(),G(c[w],1,1,()=>{c[w]=null}),ee(),t=c[n],t?t.p(r,u):(t=c[n]=i[n](r),t.c()),j(t,1),t.m(e,l)),(!o||u&1&&s!==(s=r[4].length>0))&&(e.disabled=s)},i(y){o||(j(t),o=!0)},o(y){G(t),o=!1},d(y){y&&p(e),c[n].d(),a=!1,h()}}}function Ge(r){let e,n="Next move: Opponent";return{c(){e=b("p"),e.textContent=n,this.h()},l(t){e=k(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1016uwo"&&(e.textContent=n),this.h()},h(){d(e,"class","text-content3")},m(t,l){E(t,e,l)},p:x,d(t){t&&p(e)}}}function Ne(r){let e,n="Next move: You";return{c(){e=b("p"),e.textContent=n,this.h()},l(t){e=k(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-19lrvx0"&&(e.textContent=n),this.h()},h(){d(e,"class","text-content3")},m(t,l){E(t,e,l)},p:x,d(t){t&&p(e)}}}function Ae(r){var t;let e,n=((t=r[0].nextMove)==null?void 0:t.id)===r[1].id&&ce();return{c(){n&&n.c(),e=z()},l(l){n&&n.l(l),e=z()},m(l,s){n&&n.m(l,s),E(l,e,s)},p(l,s){var o;((o=l[0].nextMove)==null?void 0:o.id)===l[1].id?n||(n=ce(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&p(e),n&&n.d(l)}}}function Se(r){let e;function n(s,o){var a;return((a=s[0].nextMove)==null?void 0:a.id)===s[1].id?Be:$e}let t=n(r),l=t(r);return{c(){l.c(),e=z()},l(s){l.l(s),e=z()},m(s,o){l.m(s,o),E(s,e,o)},p(s,o){t!==(t=n(s))&&(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){s&&p(e),l.d(s)}}}function Me(r){let e,n="Waiting for a player to join...";return{c(){e=b("p"),e.textContent=n,this.h()},l(t){e=k(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1n3jtbm"&&(e.textContent=n),this.h()},h(){d(e,"class","text-content3")},m(t,l){E(t,e,l)},p:x,d(t){t&&p(e)}}}function ce(r){let e,n="It's a draw!";return{c(){e=b("p"),e.textContent=n,this.h()},l(t){e=k(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-19jgp2i"&&(e.textContent=n),this.h()},h(){d(e,"class","text-warning")},m(t,l){E(t,e,l)},d(t){t&&p(e)}}}function $e(r){let e,n="You lost!";return{c(){e=b("p"),e.textContent=n,this.h()},l(t){e=k(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-o9vieb"&&(e.textContent=n),this.h()},h(){d(e,"class","text-error")},m(t,l){E(t,e,l)},d(t){t&&p(e)}}}function Be(r){let e,n="You won!";return{c(){e=b("p"),e.textContent=n,this.h()},l(t){e=k(t,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-6nrjse"&&(e.textContent=n),this.h()},h(){d(e,"class","text-success")},m(t,l){E(t,e,l)},d(t){t&&p(e)}}}function Ve(r){let e,n,t,l="Tic-Tac-Toe",s,o,a,h=r[0].id+"",i,c,v,T,y,u,w=se(r[0].state),_=[];for(let f=0;f<w.length;f+=1)_[f]=ie(ae(r,w,f));const O=f=>G(_[f],1,1,()=>{_[f]=null});function te(f,C){var m;return f[0].status==="waiting-join"?Me:f[0].status==="win"?Se:f[0].status==="draw"?Ae:((m=f[0].nextMove)==null?void 0:m.id)===f[1].id?Ne:Ge}let V=te(r),L=V(r);return{c(){e=b("div"),n=b("div"),t=b("h2"),t.textContent=l,s=A(),o=b("p"),a=D("(Game ID: "),i=D(h),c=D(")"),v=A(),T=b("div");for(let f=0;f<_.length;f+=1)_[f].c();y=A(),L.c(),this.h()},l(f){e=k(f,"DIV",{class:!0});var C=P(e);n=k(C,"DIV",{class:!0});var m=P(n);t=k(m,"H2",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1tk4djx"&&(t.textContent=l),s=S(m),o=k(m,"P",{class:!0});var N=P(o);a=R(N,"(Game ID: "),i=R(N,h),c=R(N,")"),N.forEach(p),v=S(m),T=k(m,"DIV",{class:!0});var ne=P(T);for(let Y=0;Y<_.length;Y+=1)_[Y].l(ne);ne.forEach(p),y=S(m),L.l(m),m.forEach(p),C.forEach(p),this.h()},h(){d(t,"class","card-header"),d(o,"class","text-content2"),d(T,"class","grid grid-cols-3 grid-rows-3"),d(n,"class","card-body items-center break-all"),d(e,"class","card overflow-y-auto")},m(f,C){E(f,e,C),g(e,n),g(n,t),g(n,s),g(n,o),g(o,a),g(o,i),g(o,c),g(n,v),g(n,T);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(T,null);g(n,y),L.m(n,null),u=!0},p(f,[C]){if((!u||C&1)&&h!==(h=f[0].id+"")&&de(i,h),C&7){w=se(f[0].state);let m;for(m=0;m<w.length;m+=1){const N=ae(f,w,m);_[m]?(_[m].p(N,C),j(_[m],1)):(_[m]=ie(N),_[m].c(),j(_[m],1),_[m].m(T,null))}for(K(),m=w.length;m<_.length;m+=1)O(m);ee()}V===(V=te(f))&&L?L.p(f,C):(L.d(1),L=V(f),L&&(L.c(),L.m(n,null)))},i(f){if(!u){for(let C=0;C<w.length;C+=1)j(_[C]);u=!0}},o(f){_=_.filter(Boolean);for(let C=0;C<_.length;C+=1)G(_[C]);u=!1},d(f){f&&p(e),ke(_,f),L.d()}}}function De(r,e,n){let{game:t}=e,{player:l}=e,{onMove:s}=e;const o=a=>{s(l,a)};return r.$$set=a=>{"game"in a&&n(0,t=a.game),"player"in a&&n(1,l=a.player),"onMove"in a&&n(2,s=a.onMove)},[t,l,s,o]}class Re extends ${constructor(e){super(),B(this,e,De,Ve,M,{game:0,player:1,onMove:2})}}function Je(r){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(t){e=F(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var l=P(e);n=F(l,"path",{d:!0}),P(n).forEach(p),l.forEach(p),this.h()},h(){d(n,"d","M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width","32"),d(e,"height","32"),d(e,"fill","#000000"),d(e,"viewBox","0 0 256 256")},m(t,l){E(t,e,l),g(e,n)},p:x,i:x,o:x,d(t){t&&p(e)}}}class ze extends ${constructor(e){super(),B(this,e,null,Je,M,{})}}function Ue(r){let e,n;return{c(){e=U("svg"),n=U("path"),this.h()},l(t){e=F(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var l=P(e);n=F(l,"path",{d:!0}),P(n).forEach(p),l.forEach(p),this.h()},h(){d(n,"d","M183.25,63.2C170.25,42.79,151.15,32,128,32S85.75,42.79,72.75,63.2C62,80.18,56,103.19,56,128s6,47.82,16.75,64.8c13,20.41,32.1,31.2,55.25,31.2s42.25-10.79,55.25-31.2c10.8-17,16.75-40,16.75-64.8S194.05,80.18,183.25,63.2ZM128,208c-38.68,0-56-40.18-56-80s17.32-80,56-80,56,40.18,56,80S166.68,208,128,208Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width","32"),d(e,"height","32"),d(e,"fill","#000000"),d(e,"viewBox","0 0 256 256")},m(t,l){E(t,e,l),g(e,n)},p:x,i:x,o:x,d(t){t&&p(e)}}}class Fe extends ${constructor(e){super(),B(this,e,null,Ue,M,{})}}var me=()=>new Proxy(Object.assign(()=>"",{}),{get:(r,e)=>e==="length"?0:me()}),We=r=>Object.fromEntries(Object.entries(r).map(([e,n])=>e!=="i"&&n&&n!="0"&&[e,n]).filter(Boolean)),Xe=r=>Object.fromEntries(Object.keys(r).map(e=>{const n=r[e];return[e,Array.isArray(n)?n.map(t=>t==null?void 0:t.trim()):n===!!n?n:n==null?void 0:n.trim()]})),Ze=r=>{const[e="",...n]=r.split("|"),[t="",l]=e.split(":"),[s,o]=t.split("?");return{k:s,i:l,n:o==="",f:n}},He=r=>!!(r.o||r.r),Ye=(r,e)=>{let[n,t]=r.split(":");t||(t=n,n=e);const l=t.split("|"),[s,o,a,h,i,c]=l,v=l.filter(T=>T!==void 0).length;return v===1?{k:n,r:s}:v===2?{k:n,o:s,r:o}:v===3?{k:n,z:s,o,r:a}:{k:n,z:s,o,t:a,f:h,m:i,r:c}},qe=/^\{.*\}$/,Qe=r=>Object.fromEntries(q(r).split(",").map(e=>e.split(":")).reduce((e,n)=>n.length===2?[...e,n.map(t=>t.trim())]:(e[e.length-1][1]+=","+n[0],e),[])),ue=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,q=r=>r.substring(1,r.length-1),Ke=(r,e=!0,n="",t="")=>r.split(ue).map(l=>{if(!l.match(ue))return l;const s=q(l);if(s.startsWith("{"))return Ye(q(s),t);const o=Ze(s);return t=o.k||t,!n&&(n=t),o}).map(l=>{if(typeof l=="string")return l;l.k||(l.k=n||"0");const s=Xe(l);return e?We(s):s}),et=(r,e,n)=>e.reduce((t,l)=>{var s;return(l.match(qe)?(o=>o[t]??o["*"])(Qe(l)):(s=r[l])==null?void 0:s.call(r,t))??t},n),tt=(r,{z:e,o:n,t,f:l,m:s,r:o},a)=>{switch(e&&a==0?"zero":r.select(a)){case"zero":return e;case"one":return n;case"two":return t;case"few":return l??o;case"many":return s??o;default:return o}},nt=/\?\?/g,rt=(r,e,n,t)=>r.map(l=>{if(typeof l=="string")return l;const{k:s="0",f:o=[]}=l,a=t[s];return He(l)?((typeof a=="boolean"?a?l.o:l.r:tt(e,l,a))||"").replace(nt,a):(""+((o.length?et(n,o,a):a)??"")).trim()}).join(""),lt=(r,e,n,t)=>{const l=t[0],s=l&&typeof l=="object"&&l.constructor===Object,o=t.length===1&&s?l:t;return rt(r,e,n,o)},st=(r,e)=>r[e]||(r[e]=Ke(e)),ot=(r,e)=>{const n={},t=new Intl.PluralRules(r);return(l,...s)=>lt(st(n,l),t,e,s)};function at(r,e,n={}){return _e(e,ot(r,n))}var fe=(r={},e)=>typeof r=="string"?e.bind(null,r):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),r),_e=(r,e)=>new Proxy(fe(r,e),{get:(n,t)=>t===Symbol.iterator?[][Symbol.iterator].bind(Object.values(n).map(l=>fe(l,e))):_e(n[t],e)}),it=(r,e={})=>{const n=re(),t=re(me()),l=ct(n),s=new Proxy({},{get:(a,h)=>h==="subscribe"?t.subscribe:t[h]});return{locale:l,LL:s,setLocale:a=>{n.set(a),t.set(at(a,r[a],e[a]))}}};function ct(r){return{subscribe:r.subscribe.bind(r)}}var ut=r=>!!r,ft=r=>Array.from(new Set(r)),dt=(r,e,...n)=>{for(let t of n){let l=mt(e,t);if(l)return l}return r},mt=(r,e)=>{let n=e().map(s=>s.toLowerCase()),t=ft(n.flatMap(s=>[s,s.split("-")[0]])),l=r.map(s=>s.toLowerCase());return t.map(s=>{let o=l.findIndex(a=>a===s);return o>=0&&r[o]}).find(ut)},_t=()=>(navigator==null?void 0:navigator.languages)||[];const ht="en",pt=["en","pt"],Q={},he={},vt=(...r)=>dt(ht,pt,...r),{locale:Mt,LL:$t,setLocale:gt}=it(Q,he),bt=r=>({date:kt});function kt(r){return r.toLocaleDateString()}const yt={en:()=>le(()=>import("../chunks/index.4b001637.js"),[],import.meta.url),pt:()=>le(()=>import("../chunks/index.9c583f9c.js"),[],import.meta.url)},wt=(r,e)=>Q[r]={...Q[r],...e},Ct=async r=>(await yt[r]()).default,xt=async r=>{wt(r,await Ct(r)),Et(r)},Et=r=>void(he[r]=bt()),Tt=async()=>{const r=vt(_t);await xt(r),gt(r)},Bt=Object.freeze(Object.defineProperty({__proto__:null,load:Tt},Symbol.toStringTag,{value:"Module"}));function Pt(r){let e,n;return e=new Re({props:{game:r[0].value,player:r[0].player,onMove:r[4]}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.game=t[0].value),l&1&&(s.player=t[0].player),e.$set(s)},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function Lt(r){let e,n;return e=new Le({props:{onNewGame:r[2],onJoinGame:r[3]}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p:x,i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function jt(r){let e,n,t,l,s;const o=[Lt,Pt],a=[];function h(i,c){return i[0].value.status==="not-started"?0:1}return t=h(r),l=a[t]=o[t](r),{c(){e=b("section"),n=b("div"),l.c(),this.h()},l(i){e=k(i,"SECTION",{class:!0});var c=P(e);n=k(c,"DIV",{class:!0});var v=P(n);l.l(v),v.forEach(p),c.forEach(p),this.h()},h(){d(n,"class","flex max-h-full justify-center overflow-hidden"),d(e,"class","m-4 h-1/3")},m(i,c){E(i,e,c),g(e,n),a[t].m(n,null),s=!0},p(i,[c]){let v=t;t=h(i),t===v?a[t].p(i,c):(K(),G(a[v],1,1,()=>{a[v]=null}),ee(),l=a[t],l?l.p(i,c):(l=a[t]=o[t](i),l.c()),j(l,1),l.m(n,null))},i(i){s||(j(l),s=!0)},o(i){G(l),s=!1},d(i){i&&p(e),a[t].d()}}}function Ot(r,e,n){let t;const l=ye(Ee);be(r,l,h=>n(0,t=h));const s=()=>{l.add(we())},o=h=>{l.add(Ce(h))},a=(h,i)=>l.add(xe(h,i));return r.$$.update=()=>{r.$$.dirty&1&&console.log(t)},[t,l,s,o,a]}class Vt extends ${constructor(e){super(),B(this,e,Ot,jt,M,{})}}export{Vt as component,Bt as universal};
